---
layout: classic-docs
title: "パイプライン"
short-title: "パイプラインの有効化"
description: "パイプラインを有効にする方法"
categories:
  - settings
order: 1
---

ここでは、CircleCI API または自動キャンセルのワークフローからワークフローをトリガーする必要がある場合に、パイプラインエンジンを有効にする方法を説明します。

## はじめよう

CircleCI アプリケーションでパイプラインを有効にします。この設定は、プロジェクトの [Settings (設定)] ページの [Advanced (詳細設定)] セクションの下部にあります。

新しいパイプライン機能を使用すると、[ワークフローを含むビルドをトリガーする新しい API エンドポイント]({{ site.baseurl }}/api/v1-reference/#new-project-build)を使用して、以下のユースケースに対応できるようになります。

- 新しい API エンドポイントを使用してビルドをトリガーし、ビルド内のすべてのワークフローを実行します。
- `build` という名前のジョブが、プロセッサーによって 1つのワークフロースタンザにラップされます。
- [Advanced Settings (詳細設定)] で自動キャンセルが有効になっているプロジェクトでは、非デフォルトのブランチで新しいビルドがトリガーされると、同じブランチ上のワークフローがキャンセルされます。
- バージョン 2.1 以上の設定を使用するには、パイプラインをオンにする必要があります。

**メモ：**非デフォルトのブランチで自動デプロイジョブを設定している場合などには、自動キャンセル機能を有効にすることの影響を慎重に検討する必要があります。

## トラブルシューティング

パイプラインエラーは、[Workflows (ワークフロー)] ページの [Jobs (ジョブ)] ページに表示されます。 既存のプロジェクトをパイプラインに移行する際、ジョブまたはワークフローが新しいパイプラインサービスで失敗する場合は、プロジェクトの [Advanced Settings (詳細設定)] でパイプラインのラジオボタンを無効にすることで、安全に元に戻すことができます。

## 制約

CircleCI では、ほとんどの場合に下位互換性が維持されており、パイプラインを有効にしたプロジェクトの大部分で既存のビルドに影響はありません。 以前は機能していたビルドが、パイプラインを有効にしたことで機能しなくなる場合は、CircleCI にご連絡ください。

- アンカーは、アプリケーションコンフィグに表示されることなく、処理されて解決されます。
- シェルコマンドで `<<` を使用する場合 (ヒアドキュメントを使用する場合など)、バージョン 2.1 以上の設定を使用するには、`\<<` のようにバックスラッシュ `` でエスケープする必要があります。
- パイプラインは、任意のジョブをトリガーする 1.1 API エンドポイントと完全には下位互換性が**ありません**。パイプラインをオンにした後にこのエンドポイントを使用すると、予期しない結果または不整合な結果となる可能性があります。 代わりに、2018年 9月に 1.1 API で導入された、[ビルドをトリガーするエンドポイント](https://circleci.com/docs/api/v1-reference/#new-project-build)を使用できます。 このビルドをトリガーする API エンドポイントは、パラメーター、ワークフロー、ジョブフィルターを受け付け**ない**ので、ご注意ください。 パイプラインと併せてこれらの API 機能を多用したいとお考えでしたら、CircleCI のアカウントチームにお問い合わせください。

## フィードバック方法

1. CircleCI の Twitter アカウント (@circleci) 宛てにツイートする
2. [アイデアボード](https://ideas.circleci.com/)で既存の投稿に投票する、または投稿を追加する

## 関連項目

詳細については、[ビルドのスキップとキャンセル]({{ site.baseurl }}/ja/2.0/skip-build/#auto-cancelling-a-redundant-build)のページを参照してください。