---

contentTags:
  platform:
  - Cloud
  - Server v4.x
  - Server v3.x
---
= CircleCI イメージのサポートポリシー
:page-layout: classic-docs
:page-liquid:
:page-description: CircleCI イメージのリリース、更新、サポート終了に関するポリシーについて説明します
:icons: font
:experimental:

[#overview]
== インサイト スナップショットバッジの概要

ここでは、xref:circleci-images#[CircleCI の Docker イメージ]のリリース、更新、サポート終了に関する CircleCI のポリシーについて説明します。

このポリシーの対象は、Docker Hub の `cimg` 名前空間に CircleCI が公開しているすべての CircleCI イメージです。

[#base-images]
== インサイト スナップショットバッジの概要

CircleCI の Docker イメージはすべて、ベースイメージである `cimg/base` に基づいています。 このベースイメージは、Ubuntu 公式の Docker イメージに基づいています。

CircleCI では、Ubuntu の全 LTS バージョンのうち "Standard Support (標準サポート)" 状態であるものについて、ベースイメージからバリアントを開発しています。 標準サポートが終了した Ubuntu の LTS バージョンについては、`cimg/base` バリアントの開発を中止します。

Ubuntu の新しい LTS バージョンがリリースされた場合、`cimg/base` バリアントの初回リリースから約 6 か月後に、派生版の CircleCI イメージの基本ベースイメージをそのバージョンに変更します。

1 つの共通イメージからすべての CircleCI イメージを開発することで、実行環境で基本ベースレイヤーがキャッシュされる可能性を高め、ジョブのスピンアップを高速化しています。

CircleCI では、新しいベースイメージを 1 か月ごとに 1 つビルドしています。 ただし、派生版の CircleCI イメージで使用されているベースイメージの更新頻度は、四半期に 1 回です。 これらの更新は、更新後に新しくリリースされたイメージにのみ適用され、更新前から存在するイメージは対象外となります。

CircleCI 用に独自のイメージをビルドする場合は、`cimg/base` をベースにすることをお勧めします。

[#release-policy]
== リリースポリシー

CircleCI では各言語の新リリースを追跡しており、新リリースに対応する新しい CircleCI イメージを 48 時間以内に提供することを目指しています。 ただし、これはサービスレベルアグリーメント (SLA) ではありません。 新しい CircleCI イメージの SLA として所要時間を公式に定めることはいたしません。

デプロイ用イメージについては、1 か月に 1 つ提供します。

各言語のアルファ版、ベータ版、プレビュー版、リリース候補版について、対応する新しいイメージを提供することはありません。

[#tagging]
== タグ

各イメージには、対象の言語のバージョンを示す `major.minor.patch` タグが付けられます。 また、`major.minor` というタグもあり、こちらは常に各イメージの最新パッチリリースを示します。

特別な場合には、親プロジェクトのタグ付けスキームに従いリリースを管理する追加のタグ (`lts` や `current` など) も使用されます。

上記の特別な場合を除き、CircleCI イメージに `latest` タグおよび `current` タグが付けられることはありません。 この措置は意図的なものであり、将来的にこれらのタグを導入する予定はありません。 このようにする目的は、タグの更新による変化 (`current` タグから新しいメジャーバージョンのタグへの切り替えなど) を最小限に抑え、CircleCI イメージを利用するジョブの決定論的性質を高めることです。 これにより、お客様がコンフィグファイルを明示的に更新していないのに破壊的変更が生じてしまう可能性を低減しています。

[#critical-cve-patches]
== 重大な CVE に関するパッチ

CircleCI イメージで使用されているバージョンのオペレーティングシステムまたはソフトウェアスタックに影響する重大な CVE が開示された場合、CircleCI は、CircleCI の実行環境内で使用される CircleCI イメージに対するその CVE の影響を調査します。

実行環境内のコンテナは一時的かつ隔離されたものであるため、ほとんどの場合、これらのイメージへのパッチ適用が必要になることはありません。 CVE の開示に対する CircleCI の対応については、常時 link:https://discuss.circleci.com/[CircleCI Discuss フォーラム]でお知らせします。

[#bug-reports-issues-and-prs]
== バグの報告、イシュー、プルリクエスト (PR)

GitHub にて、各イメージに関するみなさまからのバグ報告とプルリクエスト (PR) を受け付けています。 イメージごとの GitHub リポジトリについては、link:https://circleci.com/developer/ja/images[Developer Hub] をご覧ください。

通常、動作に支障のない軽微なバグについては、イメージの次回リリース時に修正します。 重大であるか動作に支障を来すバグについては、イメージの提供開始時期に応じて、現行版のイメージにパッチを適用します。

イシューや PR でイメージへの新機能追加の要望をいただいた場合は、その理由と対象範囲をお伺いします。 CircleCI では、最大限の機能を提供すると同時に、イメージをビルドしやすいサイズに抑えることを第一目標としています。

お寄せいただいたイシューおよび PR に速やかに対応できるようあらゆる努力を講じていますが、公式の SLA は定めておりません。

[#image-lifespan-eol]
== イメージの有効期間およびサポート終了 (EOL)

通常、Docker Hub に公開された CircleCI イメージが削除されることはありません。ただし、使用する言語のプロジェクトの最新状況をチェックし、プロジェクトでサポート終了 (EOL) が宣言されたバージョンについてはジョブ内のイメージを更新するようにお勧めします。

バージョンが EOL となった場合、バグ修正およびパッチの提供は行われなくなります。

[#exceptions]
== 例外

CircleCI は、どのような場合でも、状況に応じて本記事の説明内容とは異なる措置を講じる権利を保有しています。 本ポリシーの例外を適用する必要がある場合、可能な限り十分な告知を行い、透明性を維持するよう努めます。 こうした場合、CircleCI Discuss フォーラムに告知を掲載するとともに、可能であればメールなどでの通知も行います。