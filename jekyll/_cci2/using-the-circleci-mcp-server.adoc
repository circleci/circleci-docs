---
contentTags:
  platform:
  - Cloud
  - Server v4+
---
= Using the CircleCI MCP Server
:page-description: A guide to using the CircleCI MCP server to diagnose build failures, fix issues, and manage CI pipelines through natural language commands.
:experimental:
:icons: font
:page-layout: classic-docs
:page-liquid:

The CircleCI MCP Server enables you to diagnose build failures, fix issues, and manage CI pipelines through natural language commands without leaving your development environment.

== Introduction

Model Context Protocol (MCP) is a standardized protocol that allows large language models (LLMs) to interact with external systems. The CircleCI MCP Server connects your AI coding assistants directly to your CircleCI pipelines.

This integration helps you diagnose and fix build failures faster. Your AI assistant can access logs, job metadata, and failure context without you needing to manually search through interfaces outisde your development envioronment.

The CircleCI MCP Server provides the following benefits:

* You can diagnose build failures without leaving your IDE.
* Receive structured information your AI assistant can understand.
* Fix issues faster through natural language requests.
* Identify and resolve flaky tests that slow down your team.
* Improve your CI/CD pipeline without context switching.

== How It Works

The CircleCI MCP Server acts as a bridge between your AI assistant and CircleCI and works as follows:

. You ask a question about your CircleCI builds in natural language.
. The MCP server calls the appropriate CircleCI APIs.
. The server transforms raw API responses into structured data.
. Your AI assistant receives this data and provides you with useful insights.
. You get answers without leaving your development environment.

With the CircleCI MCP Server, you can perform CircleCI tasks using natural language commands. For example:

* "What failed on my last deploy?"
* "Find the latest failed pipeline on my branch and help me fix it."
* "Get logs from [pipeline URL] and help me fix it."
* "Find flaky tests in my current project."
* "Validate my CircleCI config."

== Installation

You can install the CircleCI MCP Server through multiple methods depending on your preferred development environment.

=== Prerequisites

Before installing the CircleCI MCP Server, ensure you have:

* pnpm package manager installed.
* Node.js version 18.0.0 or higher.
* A CircleCI personal API token. See the xref:managing-api-tokens#creating-a-personal-api-token[Managing API tokens] page for steps.

=== Automatic installation via Smithery

[source,bash]
----
npx -y @smithery/cli install @CircleCI-Public/mcp-server-circleci --client claude
----

=== Manual Installation

==== Cursor IDE

Add this configuration to your Cursor MCP config file:

[source,json]
----
{
  "mcpServers": {
    "circleci-mcp-server": {
      "command": "npx",
      "args": ["-y", "@circleci/mcp-server-circleci"],
      "env": {
        "CIRCLECI_TOKEN": "your-circleci-token",
        "CIRCLECI_BASE_URL": "https://circleci.com"
      }
    }
  }
}
----

==== Claude Desktop

Add this configuration to your `claude_desktop_config.json` file:

[source,json]
----
{
  "mcpServers": {
    "circleci-mcp-server": {
      "command": "npx",
      "args": ["-y", "@circleci/mcp-server-circleci"],
      "env": {
        "CIRCLECI_TOKEN": "your-circleci-token",
        "CIRCLECI_BASE_URL": "https://circleci.com"
      }
    }
  }
}
----

The configuration file is located at:

* macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`
* Windows: `%APPDATA%\Claude\claude_desktop_config.json`

==== Claude Code

After installing Claude Code, run:

[source,bash]
----
claude mcp add circleci-mcp-server -e CIRCLECI_TOKEN=your-circleci-token -- npx -y @circleci/mcp-server-circleci
----

==== VS Code

Add this configuration to your VS Code `settings.json` file under `mcp -> servers`:

[source,json]
----
"circleci-mcp-server": {
  "command": "npx",
  "args": ["-y", "@circleci/mcp-server-circleci"],
  "env": {
    "CIRCLECI_TOKEN": "your-circleci-token",
    "CIRCLECI_BASE_URL": "https://circleci.com"
  }
}
----

==== Windsurf

Add this configuration to your Windsurf `mcp_config.json` file:

[source,json]
----
{
  "mcpServers": {
    "circleci-mcp-server": {
      "command": "npx",
      "args": ["-y", "@circleci/mcp-server-circleci"],
      "env": {
        "CIRCLECI_TOKEN": "your-circleci-token",
        "CIRCLECI_BASE_URL": "https://circleci.com"
      }
    }
  }
}
----

== Supported features

The supported features section outlines the abilities that the CircleCI MCP Server currently supports. Each feature is described below along with usage examples.

=== Build failure logs (`get_build_failure_logs`)

This tool retrieves detailed failure logs from CircleCI builds and presents them in a structured format.

*Using CircleCI URLs:*

* Provide a failed job or pipeline URL directly.
* Example: "Get logs from https://app.circleci.com/pipelines/github/org/repo/123"

*Using Local Project Context:*

* Works from your local workspace without manual searching.
* The server reads your Git remote and active branch automatically.
* Example: "Find the latest failed pipeline on my current branch."

The tool returns formatted logs including:

* Job and step details.
* Full command logs.
* Exit codes and failure messages.

=== Flaky Test Detection (`find_flaky_tests`)

This tool identifies unreliable tests in your CircleCI project by analyzing your test execution history. It leverages CircleCI's built-in flaky test detection to find patterns of instability.

*Using CircleCI Project URL:*

* Provide the project URL directly from CircleCI.
* Example: "Find flaky tests in https://app.circleci.com/pipelines/github/org/repo"

*Using Local Project Context:*

* Works from your local workspace without manual searching.
* The server reads your Git remote information automatically.
* Example: "Find flaky tests in my current project."

The tool returns structured information including:

* Test names and file locations.
* Failure messages and failure context.
* Data to help understand and fix test reliability issues.

=== Configuration Helper (`config_helper`)

This tool assists with CircleCI configuration tasks and provides guidance for improving your setup.

*Validate CircleCI Config:*

* Checks your `.circleci/config.yml` for syntax and semantic errors.
* Example: "Validate my CircleCI config."

The tool provides:

* Detailed validation results.
* Configuration recommendations.
* Best practices for CircleCI configuration.

== Real-World Examples

Here are common scenarios where the CircleCI MCP Server can help you and your team:

=== Example 1: Fixing a Failed PR Build

Your pull request build fails and blocks progress. Instead of switching to the CircleCI UI:

. You ask your assistant: "Why did my PR build fail?"
. The MCP server fetches structured logs from the failed job.
. Your assistant identifies the issue and suggests a fix for you.
. You apply the fix directly from your IDE and continue working.

=== Example 2: Debugging a Failed Deployment

Your deploy to staging fails right before a release:

. You share the pipeline URL: "Get logs from https://app.circleci.com/pipelines/github/my-org/my-repo/789"
. The MCP server returns structured logs from the failed job.
. Your assistant identifies the issue and suggests a solution for you.
. You apply the fix and complete your deployment.

=== Example 3: Addressing Flaky Tests

Your team wastes time with unreliable tests:

. You ask: "Find flaky tests in my project"
. The MCP server analyzes test history to identify problematic tests.
. Your assistant explains the issues and suggests improvements to you.
. You fix the tests and improve the reliability of your pipeline.

== Additional Resources

For more information about the CircleCI MCP Server, you can visit the following links:

* link:https://github.com/CircleCI-Public/mcp-server-circleci[GitHub Repository].
* link:https://modelcontextprotocol.io[Model Context Protocol].