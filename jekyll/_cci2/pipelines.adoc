---
contentTags:
  platform:
  - Cloud
  - Server v4.x
  - Server v3.x
---
= Pipelines overview
:page-description: This document introduces the concept of pipelines and shows how pipelines can be triggered and what they include.
:experimental:
:icons: font
:page-layout: classic-docs
:page-liquid:

CircleCI pipelines are the highest-level unit of work, and they are described by a configuration file, for example, `.circleci/config.yml`. _Triggers_ can be set up to automate when a pipeline will be triggered. Pipelines coordinate the execution of workflows and jobs to build, test, and deploy your code. Workflows can be conditional, based on xref:workflows#using-contexts-and-filtering-in-your-workflows[filters], xref:workflows#workflows-configuration-examples[job requirements], and xref:selecting-a-workflow-to-run-using-pipeline-parameters#[pipeline parameters].

Pipelines include your workflows, which coordinate your jobs. Pipelines have a fixed, linear lifecycle, and are associated with a specific actor. Pipelines trigger when a change is pushed to a project that has a CircleCI configuration file included, and can also be scheduled, triggered manually through the CircleCI app, or using the API.

== Dashboard
When visiting your CircleCI dashboard, you are shown a list of recently-triggered pipelines for your organization.

image::/docs/assets/img/docs/pipelines-dashboard.png[Screenshot of the pipelines dashboard in the CircleCI app]

[#pipeline-architecture]
== Pipeline architecture

A pipeline is composed of workflows, which are composed of jobs. By navigating from a pipeline to a specific job, you can access your job output, test results, and artifacts through several tabs.

image::/docs/assets/img/docs/pipelines-job-step-test-artifact.png[Job tab options in the CircleCI web app]

The output of each job can be opened in a new tab (in either raw or formatted styling) with a unique link, making it shareable between team members.

image::/docs/assets/img/docs/pipelines-job-output.png[Download and share job step output]

== Pipelines and triggers

NOTE: The information in this section on pipelines and triggers applies to accounts integrated with the xref:github-apps-integration#[CircleCI GitHub App] or xref:gitlab-integration#[GitLab]. There are two GitHub integration types, either OAuth or through the GitHub App. To find out which GitHub integration type you have refer to the xref:github-apps-integration#[GitHub App integration] page.

Set up pipelines and triggers to define when and how pipelines are automatically triggered for a project. These triggers may be from external services (custom webhooks), or from commits or tags on a version control system.

=== Pipelines

Pipelines define units of work that can be run within your projects. Each pipeline defines a config source, which points to the location of a CircleCI configuration file. The config source can be set up to be used when _triggering_ a pipeline. Pipelines can be associated with one or more triggers.

A project can have one or more pipelines. The default config source location is `.circleci/config.yml`. If you authenticated through the GitHub App, you can set this location to _any_ path to a `*.yml` file.

When you create a project in CircleCI and connect it to a repository, a pipeline is set up for you automatically, and connected to a config source. The connected configuration file is either a file you commit yourself or one generated by CircleCI based on the code in your project.

image::project-settings-pipelines.png[Pipelines page in project settings]

==== Add or edit a pipeline

TIP: If you created a project xref:create-project#[in the CircleCI web app] you will find a pipeline is already set up.

image::add-pipeline.png[Add a pipeline]

To add or edit a pipeline, follow these steps:

. In the CircleCI web app, select **Projects** in the sidebar.
. Select the ellipsis next to your project (icon:ellipsis-h[]) and choose **Project Settings**.
. Select **Pipelines** in the sidebar.
. Select btn:[Add Pipeline], or, if you wish to edit an existing pipeline select the pencil icon on the right.
. Complete the form fields and options:
** Give your pipeline a descriptive name, for example `Run tests and deploy`.
** Under Config Source select the platform that matches where your project is set up (for example, GitHub App).
+
NOTE: For GitLab Self-managed, you can input any instance that you have previously set up in CircleCI. If you wish to set a different feature branch or repository from a self-managed instance as a new pipeline, you will first need to add a new connection via your xref:gitlab-integration#organization-settings-integrations[menu:Organization Settings[Integrations]]. In either case, you will also need to enter your personal access token again to authorize this connection.
** Authorize your connection if this is not already showing with a icon:check-circle[]
** Select your repository
+
CAUTION: **Select the same repository for your pipeline and trigger** (described in the following section). There is currently a bug that means that CircleCI will always look for the pipeline in the same repository from which the triggering event was emitted.
** Select a fallback branch to use in case the triggering event does not have a triggering branch. This branch will be used if you trigger this pipeline via a custom webhook.
** Enter the path to your configuration file relative to the root of your repository. For example, `.circleci/config.yml`. If you are integrated through the GitHub App, you can enter any path to a `.yml` file, and the file can have any name you choose.
. Select btn:[Save].

Once you have set up a pipeline you need to set up a trigger to connect it to. This is described in the following section.

=== Triggers

TIP: If you created a project xref:create-project#[in the CircleCI web app] you will find a trigger is already set up.

Triggers are rules to define that a pipeline should be run on a given event. A project can have one or more triggers, which are associated with events from a source of change. The most common type of trigger is a VCS event, for example a push to a branch on a GitHub repository, but any system that can emit outbound webhooks can also be set up as a trigger. A trigger can have only one pipeline but a pipeline can have multiple triggers.

A trigger kicks off a pipeline to run the workflows defined in your connected config source.

==== Add a trigger

To add a trigger for a pipeline, follow these steps:

[.tab.trigger.Custom_webhook]
--

Setting up a custom webhook trigger allows you to trigger pipelines from external services. Any service that can emit a webhook or make a cURL request can be set up in this way to trigger a pipeline. For more information, see the xref:triggers-overview#trigger-a-pipeline-from-a-custom-webhook[Triggers overview] page.

To add a trigger for a custom webhook, follow these steps:

{% include snippets/custom-webhook-setup.adoc %}

To verify your trigger is set up correctly, trigger an event from your third party system.
--

[.tab.trigger.GitHub]
--

When the CircleCI GitHub App is installed for your organization, GitHub starts to send events for the repositories you have granted access to. CircleCI listens for push and tag events. When a trigger is created CircleCI has enough information to use the event data to determine if a pipeline should be triggered.

image::{{site.baseurl}}/assets/img/docs/add-trigger.png[Add a trigger]

To add a trigger for a pipeline, follow these steps:

. In the link:https://app.circleci.com/[CircleCI web app] select **Projects** in the sidebar
. Find your project in the list, select the ellipsis (icon:ellipsis-h[]) next to it and choose **Project Settings**.
. Select **Triggers** in the sidebar.
. Select btn:[Add Trigger].
. Select the same location in the "Connect to" dropdown menu that you selected for your pipeline (for example, GitHub App).
. Select btn:[Next].
. Complete the form fields and options:
** Give your trigger a descriptive name.
** Authorize your connection if this is not already showing with a icon:check-circle[].
** Choose your pipeline from the "Choose pipeline to run" menu.
. Select btn:[Save].

To verify your trigger is set up correctly, trigger an event from your repository.
--

[.tab.trigger.GitLab]
--

When a trigger is created, CircleCI registers a webhook with GitLab. Push events from GitLab are sent to CircleCI. CircleCI then uses the event data to determine _if_ a pipeline should run, and if so, _which_ pipeline should be run.

In addition to a pipeline, each trigger includes the webhook URL, and in this scenario, a CircleCI-created GitLab token. The webhook URL and GitLab token are used to securely register the webhook within GitLab in order to receive push events from your GitLab repository. You can view webhooks for a project in GitLab at menu:Settings[Webhooks].

image::{{site.baseurl}}/assets/img/docs/add-trigger.png[Add a trigger]

To add a trigger for a pipeline, follow these steps:

. In the link:https://app.circleci.com/[CircleCI web app] select **Projects** in the sidebar
. Find your project in the list, select the ellipsis (icon:ellipsis-h[]) next to it and choose **Project Settings**.
. Select **Triggers** in the sidebar.
. Select btn:[Add Trigger].
. Select the same location in the "Connect to" dropdown menu that you selected for your pipeline (for example, GitLab).
. Select btn:[Next].
. Complete the form fields and options:
** Give your trigger a descriptive name.
** Authorize your connection if this is not already showing with a icon:check-circle[] (Not required for custom webhooks).
+
NOTE: For GitLab self-managed you can enter the URL for an instance you have previously set up with CircleCI. You will need to enter the relevant personal access token again here to authorize the connection.
** Select your repository from the dropdown menu. This should match the repository your pipeline is connected to (not required for custom webhooks).
** Choose your pipeline from the "Choose config to run" menu.
** (Optional) You can configure <<user-content-trigger-filters,trigger filters>>.
. Select btn:[Save]
+
CAUTION: When setting up a trigger you will see a modal titled **Webhook URL** requesting that you set up a webhook in GitLab. **You do not need to take action**. The webhook is set up automatically by CircleCI. This is a known issue and will be fixed.

To verify your trigger is set up correctly, trigger an event from your repository.

[#trigger-filters]**Trigger filters** allow you to determine when a trigger should initiate a build based on the parameters provided by Gitlab’s webhook. CircleCI provides some common options, for example, only build on merge requests, but you can also build your own rules using the custom filter option. For example, a custom filter would allow you to only build on a specific branch or user.

image::{{site.baseurl}}/assets/img/docs/gl-ga/gitlab-ga-project-settings-edit-trigger.png[Trigger details]

image::{{site.baseurl}}/assets/img/docs/gl-preview/gitlab-preview-project-settings-customize-triggers.png[Trigger details]
--

[#visual-studio-code-extension]
== VS Code extension

If you use Visual Studio Code, you can also monitor and interact with your pipelines directly from VS Code with the xref:vs-code-extension-overview#[official CircleCI extension]. The extension allows you to customize which projects and pipelines you want to follow, as well as view job logs and test results, download artifacts, approve, re-run, and debug jobs with SSH, and get notified when your workflows fail or need approval.

image::/docs/assets/img/docs/vs_code_extension_job-details.png[Screenshot showing the detailed view of a failed test]

The CircleCI VS Code extension is available to download on the link:https://marketplace.visualstudio.com/items?itemName=circleci.circleci[VS Code marketplace.]

[#troubleshooting]
== Troubleshooting

include::../_includes/snippets/troubleshoot/pipelines-troubleshoot-snip.adoc[]

[#next-steps]
== Next steps

Find out more about triggering pipelines in the xref:triggers-overview#[Triggers Overview].
