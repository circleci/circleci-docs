---
layout: classic-docs
title: "1.0 から 2.0 への config-translation エンドポイントの使用"
short-title: "1.0 から 2.0 への config-translation エンドポイントを使用する"
description: "CircleCI 1.0 の設定ファイルを 2.0 形式に変換する実験的な変換ツールの使用手順"
categories:
  - migration
hide: true
order: 60
version:
  - Server v2.x
---

ここでは、`config-translation` エンドポイントを使用して、既存の CircleCI 1.0 プロジェクトから CircleCI 2.0 の基本的な作業用設定ファイルを生成する手順を説明します。
* Ruby
* PHP
* Node.js
* iOS (一部のみ。 1.0 のコード署名はサポートされないため、代わりに Fastlane を使用してください)
* Java (一部のみ)

生成される `config-translation` ファイルには、構成を修正して CircleCI 2.0 プロジェクトの `.circleci/config.yml` として使用する方法について、わかりやすい説明文が記載されています。

**Warning: Do not use the generated configuration file in production without testing.** There are structures in 1.0 that cannot be reconciled in the 2.0 configuration, so it is important to put the generated configuration file on a branch, test it, and modify it before going to production. `config-translation` を使用して生成された仮の設定ファイルによる結果は、1.0 の結果と大きく異なる場合があります。

## 概要
{: #overview }
The `config-translation` endpoint will help you generate a draft 2.0 configuration file from your CircleCI 1.0 project. Major differences exist between CircleCI 1.0 and 2.0 as follows:

* すべての構成は、リポジトリ内の `.circleci/config.yml` ファイルで明示的に宣言されていなければなりません。
* CircleCI 2.0 では、複数のステップやジョブから成るビルドをオーケストレーションするために、ワークフロー機能が導入されています。 ワークフローを使用すると、ビルドを複数のジョブに分割し、不具合をすばやく検出できます。 You must add a new stanza to your `config.yml` file to enable Workflows (a `workflows` stanza is **not** generated by `config-translation`). 手順と例については、[ワークフローに関するドキュメント]({{site.baseurl}}/2.0/workflows/)を参照してください。

The `config-translator` endpoint does **not** currently support translation of the `deploy` step of 1.0 builds, so you must also add a new job for deployment. See the [Deployment Integrations]({{site.baseurl}}/2.0/deployment-integrations/) documentation for CircleCI 2.0 for details and examples.

## `config-translation` の使用方法
{: #using-config-translation }

1. `config-translation` を使用するには、以下の API エンドポイントを使用して、1.0 の CircleCI プロジェクト ビルドの名前を渡します。

     `GET: /project/:vcs-type/:username/:project/config-translation`

     このエンドポイントは、1.0 プロジェクトのビルド履歴を使用して、`config-translation` ファイルを生成します。

2. `bar` という GitHub 組織の `foo` というリポジトリに対して、`circleci.com` で認証されている場合、ブラウザーから `config-translation` を使用するには、以下の URL をリクエストします。

     `https://circleci.com/api/v1.1/project/github/bar/foo/config-translation`

3. To use the `config-translation` from your browser when you are **not** authenticated in circleci.com for a repository called `foo` in a GitHub org named `bar`, request the following URL and pass your `circle-token` directly in the query string. 以下の例では、`curl` を使用してこれを呼び出し、変換する `branch` を渡しています。 また、[CircleCI API トークン]({{ site.baseurl }}/2.0/managing-api-tokens/#パーソナル-api-トークンの作成)は `CIRCLE_TOKEN` という環境変数にあると仮定しています。

     ``` Shell
     curl -H "Circle-Token: $CIRCLE_TOKEN" "https://circleci.com/api/v1.1/project/github/bar/foo/config-translation?branch=develop"
     ```
      The default is to use the default branch that is set in your VCS, typically `master`.

## See also
{: #see-also }

 [Tips For Migrating from 1.0 to 2.0]({{site.baseurl}}/2.0/migration/)

