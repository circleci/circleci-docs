= Auto rerun failed tests
:page-badge: Preview
:page-platform: Cloud
:experimental:
:page-noindex: true
:page-description: Automatically retry failed tests to improve build reliability

CAUTION: *Smarter Testing* is available in preview. This means the product is in early stages and you may encounter bugs, unexpected behavior, or incomplete features. When the feature is made generally available, there will be a cost associated with access and usage.

Auto rerun failed tests automatically detects and retries test failures during your test run. This allows you to quickly recover from flaky test failures without rerunning your entire test suite. Compared with the existing xref:rerun-failed-tests.adoc[Rerun failed tests], this elimiates the need to:

* Manually identify which jobs failed.
* Manually select the btn:[rerun failed tests] option in the CircleCI web app.

== How it works

#TODO - maybe more information is needed here?#

When you configure auto rerun:

* If a test fails, Smarter Testing automatically retries it.
* Re-run happens within the same job.
* The test is retried up to the configured maximum number of attempts.

= Prerequisites

Before enabling Auto-rerun Failed Tests, ensure you have completed the xref:getting-started-with-smarter-testing.adoc[Getting Started with Smarter Testing] guide and have:

* Installed the `testsuite` CLI plugin.
* Configured your `.circleci/test-suites.yml` with `discover` and `run` commands.
* Verified your tests run successfully with the `testsuite` command.

== Auto rerun failed tests configuration options

#Is this the only thing people need to do to enable auto rerun? If so we can reframe this as a short how-to#

The following options are available to be defined in the options map in your `.circleci/test-suites.yml` configuration file:

[.table-scroll]
--
[cols=3*, options="header"]
|===
|Options Field|Default|Description

|`max-auto-rerun`
|0
|The maximum number of times tests will be rerun if they fail. `max-auto-rerun` can be set in the range 0 to 10 inclusive.
|===
--

== Frequently asked questions

#To be filled#
