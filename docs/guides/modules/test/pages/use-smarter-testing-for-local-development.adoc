= Use Smarter Testing to get faster feedback on local test runs
:page-description: Run Smarter Testing features on your local machine
:page-badge: Preview
:page-platform: Cloud
:experimental:
:page-noindex: true

CAUTION: *Smarter Testing* is available in preview. This means the product is in early stages and you may encounter bugs, unexpected behavior, or incomplete features. When the feature is made generally available, there will be a cost associated with access and usage.

Use Smarter Testing locally during development (test impact analysis and auto-rerun failed tests) to speed up your test runs.

== Prerequisites

Before using Smarter Testing locally, ensure you have:

* Completed the xref:getting-started-with-smarter-testing.adoc[Getting Started With Smarter Testing] guide
* Enabled xref:set-up-test-impact-analysis.adoc[Test Impact Analysis] in your test-suite.yml
* And/or enabled xref:auto-rerun-failed-tests.adoc[Auto Rerun Failed Tests] in your test-suite.yml

== Using Test Impact Analysis locally

=== Get and set your CircleCI API token

. Navigate to https://app.circleci.com/settings/user/tokens[User Settings > Personal API Tokens].
. Create a new token or use an existing one.
. Copy the token value.

*Set via CLI configuration*

[source,console]
----
$ circleci setup
----

Follow the prompts to configure your token. Learn more in the xref:toolkit:local-cli.adoc#configure-the-cli[Configure the CLI Guide].

=== Select and run tests using impact data stored in CircleCI

[source,console]
----
$ circleci run testsuite "ci tests"
----

If we are unable to autodetect your project, which could happen for standalone projects, the --project-id flag can be set.

[source,console]
----
$ circleci run testsuite "ci tests" --project-id=<your-project-id>
----

Or if you haven't configured your token via `circleci setup`:

[source,console]
----
$ circleci run testsuite "ci tests" \
    --project-id=<your-project-id> \
    --circleci-token=<your-token>
----

NOTE: Analysis is always disabled when running locally without the `--local` flag, regardless of the `--test-analysis` flag value.

== Use auto-rerun failed tests locally

Auto-rerun failed tests works automatically when running your test suite locally. Failed tests will be retried up to the configured `max-auto-rerun` value set in your `.circleci/test-suites.yml`.

////
#Include more details as needed#
////

[source,console]
----
$ circleci run testsuite "ci tests" --local
----
